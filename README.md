

<p align="center">
  <a href="https://sunos.io/">
    <svg width="200" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 553 235.3" class="w-32 h-20 fill-current icon" data-v-876504b2=""><path d="M239 63h17.8v105H239V63zm35.6 0h36.3c7.9 0 14.5.9 19.6 2.6s9.2 4.1 12.1 7.1a24.45 24.45 0 016.2 10.2 40.75 40.75 0 011.8 12.1 45.69 45.69 0 01-1.8 12.9 26.58 26.58 0 01-6.2 10.8 30.59 30.59 0 01-12.1 7.3c-5.1 1.8-11.5 2.7-19.3 2.7h-19.1V168h-17.5V63zm36.2 51a38.37 38.37 0 0011.1-1.3 16.3 16.3 0 006.8-3.7 13.34 13.34 0 003.5-5.8 29.75 29.75 0 001-7.6 25.68 25.68 0 00-1-7.7 12 12 0 00-3.6-5.5 17.15 17.15 0 00-6.9-3.4 41.58 41.58 0 00-10.9-1.2h-18.5V114h18.5zm119.9-51v15.3h-49.2V108h46.3v15.4h-46.3V168h-17.8V63h67zm26.2 72.9c.8 6.9 3.3 11.9 7.4 15s10.4 4.7 18.6 4.7a32.61 32.61 0 0010.1-1.3 20.52 20.52 0 006.6-3.5 12 12 0 003.5-5.2 19.08 19.08 0 001-6.4 16.14 16.14 0 00-.7-4.9 12.87 12.87 0 00-2.6-4.5 16.59 16.59 0 00-5.1-3.6 35 35 0 00-8.2-2.4l-13.4-2.5a89.76 89.76 0 01-14.1-3.7 33.51 33.51 0 01-10.4-5.8 22.28 22.28 0 01-6.3-8.8 34.1 34.1 0 01-2.1-12.7 26 26 0 0111.3-22.4 36.35 36.35 0 0112.6-5.6 65.89 65.89 0 0115.8-1.8c7.2 0 13.3.8 18.2 2.5a34.46 34.46 0 0111.9 6.5 28.21 28.21 0 016.9 9.3 42.1 42.1 0 013.2 11l-16.8 2.6c-1.4-5.9-3.7-10.2-7.1-13.1s-8.7-4.3-16.1-4.3a43.9 43.9 0 00-10.5 1.1 19.47 19.47 0 00-6.8 3.1 11.63 11.63 0 00-3.7 4.6 14.08 14.08 0 00-1.1 5.4c0 4.6 1.2 8 3.7 10.3s6.9 4 13.2 5.3l14.5 2.8c11.1 2.1 19.2 5.6 24.4 10.5s7.8 12.1 7.8 21.4a31.37 31.37 0 01-2.4 12.3 25.27 25.27 0 01-7.4 9.8 36.58 36.58 0 01-12.4 6.6 56 56 0 01-17.3 2.4c-13.4 0-24-2.8-31.6-8.5s-11.9-14.4-12.6-26.2h18z" fill="#fff"></path><path d="M30.3 164l84 48.5 84-48.5V67l-84-48.5-84 48.5v97z" fill="#469ea2"></path><path d="M105.7 30.1l-61 35.2a18.19 18.19 0 010 3.3l60.9 35.2a14.55 14.55 0 0117.3 0l60.9-35.2a18.19 18.19 0 010-3.3L123 30.1a14.55 14.55 0 01-17.3 0zm84 48.2l-61 35.6a14.73 14.73 0 01-8.6 15l.1 70a15.57 15.57 0 012.8 1.6l60.9-35.2a14.73 14.73 0 018.6-15V79.9a20 20 0 01-2.8-1.6zm-150.8.4a15.57 15.57 0 01-2.8 1.6v70.4a14.38 14.38 0 018.6 15l60.9 35.2a15.57 15.57 0 012.8-1.6v-70.4a14.38 14.38 0 01-8.6-15L38.9 78.7z" fill="#6acad1"></path><path d="M114.3 29l75.1 43.4v86.7l-75.1 43.4-75.1-43.4V72.3L114.3 29m0-10.3l-84 48.5v97l84 48.5 84-48.5v-97l-84-48.5z" fill="#469ea2"></path><path d="M114.9 132h-1.2A15.66 15.66 0 0198 116.3v-1.2a15.66 15.66 0 0115.7-15.7h1.2a15.66 15.66 0 0115.7 15.7v1.2a15.66 15.66 0 01-15.7 15.7zm0 64.5h-1.2a15.65 15.65 0 00-13.7 8l14.3 8.2 14.3-8.2a15.65 15.65 0 00-13.7-8zm83.5-48.5h-.6a15.66 15.66 0 00-15.7 15.7v1.2a15.13 15.13 0 002 7.6l14.3-8.3V148zm-14.3-89a15.4 15.4 0 00-2 7.6v1.2a15.66 15.66 0 0015.7 15.7h.6V67.2L184.1 59zm-69.8-40.3L100 26.9a15.73 15.73 0 0013.7 8.1h1.2a15.65 15.65 0 0013.7-8l-14.3-8.3zM44.6 58.9l-14.3 8.3v16.3h.6a15.66 15.66 0 0015.7-15.7v-1.2a16.63 16.63 0 00-2-7.7zM30.9 148h-.6v16.2l14.3 8.3a15.4 15.4 0 002-7.6v-1.2A15.66 15.66 0 0030.9 148z" fill="#469ea2"></path><path d="M114.3 213.2v-97.1l-84-48.5v97.1z" fill-opacity=".15" fill="#083b54"></path><path d="M198.4 163.8v-97l-84 48.5v97.1z" fill-opacity=".05" fill="#083b54"></path></svg>
  </a>
</p>

<div align="center">

sunos system with ipfs

</div>


English | [简体中文](./README-zh_CN.md)

## ✨ 特征

- 🌈 专为 Web3 应用程序设计的企业级 UI
- 📦 一组开箱即用的高质量代码
- 🛡 用 Python 编写
- ⚙️ 整套设计资源和开发工具
- 🌍 数十种语言的国际化支持
- 🎨 每个细节的强大主题定制

## 🖥 Environment Support

- Linux
- ChromeOS & Chromium OS


## 📦 Installation(Ubuntu20.04 & Debian 11)

# Download IPFS
2022/07/28 Kubo v0.14 Latest
```bash
wget https://github.com/ipfs/kubo/releases/download/v0.14.0/kubo_v0.14.0_linux-amd64.tar.gz
```
# Extract IPFS
```bash
tar xvfz kubo_v0.14.0_linux-amd64.tar.gz
```
# Change Directory Into the IPFS Folder
```bash
cd kubo
```
# Install IPFS
```bash
sudo ./install.sh
```
# Initalize IPFS
```bash
ipfs init
```
# Edit IPFS's Configuration

Changes directory into the folder

```bash
cd ~/.ipfs
```
# 启动守护进程
```bash
ipfs daemon --enable-pubsub-experiment --enable-namesys-pubsub
```
# 访问localhost:5001/webui

# Customize Your Configuration With Nano

Changes directory into the folder

```bash
sudo apt-get install nano
```
```bash
nano config
```
Using Nano to modify the configuration
ctrl + x + y

# Change IPFS Repo Size

Changes directory into the folder 

```bash
"StorageMax": "10GB", to "StorageMax": "xxxGB",
```

#  Change IPFS Port
```bash
Find

"/ip4/0.0.0.0/tcp/4001",
"/ip6/::/tcp/4001"

Replace with

"/ip4/0.0.0.0/tcp/44444",
"/ip6/::/tcp/44444"

Or with the ports you desire.
```

# Prioritize Stored Files Over Cache (with –enable-gc)
```bash
From

"Strategy": "all"

To

"Strategy": "pinned"
```

# Select a Different Directory for Storing IPFS's Files
```bash
export IPFS_PATH=/edit/this/path/to/ipfsrepo

After Exporting, re-run the init command.

ipfs init
```

# Install Node
```bash
curl -sL https://deb.nodesource.com/setup_16.x | sudo -E bash -

sudo apt-get install -y nodejs
```

# Install PM2
```bash
sudo npm install pm2@latest -g
```

# Start IPFS Daemon
```bash
pm2 start "ipfs daemon --enable-gc"
```
Starts IPFS daemon with garbage collection enabled.

# Start IPFS Daemon With Memory Restriction
```bash
pm2 start "ipfs daemon --enable-gc" --max-memory-restart 3G
```
Restarts IPFS daemon if memory usage surpasses 3GB.

# Restart IPFS
```bash
pm2 status
```
Gets the process ID.
```bash
pm2 restart 0
```
Use the process ID found with pm2 status that is running IPFS Daemon. (normally 0 if you have no other processes)

# PM2 Stop IPFS
```bash
pm2 stop 0
```
Use the process ID found with pm2 status that is running IPFS Daemon. (normally 0 if you have no other processes)

# Make IPFS Run At First Boot
```bash
pm2 startup
```
Copy and input the command given.
```bash
pm2 save
```
Saves the current process list enabling each process to run when the computer starts.

# ipfs-swarm-key-gen
This program generates swarm.key file for IPFS Private Network feature.
# Installation
```bash
go get -u github.com/Kubuxu/go-ipfs-swarm-key-gen/ipfs-swarm-key-gen
```
Usage
```bash
go/bin/ipfs-swarm-key-gen > ~/.ipfs/swarm.key
```
Change ~/.ipfs/ to different directory if you use custom IPFS_PATH.


# crosh进入 Termina
使用Ctrl+Alt+t可以打开打开crosh启动Termina虚拟机进入shell
```bash
vmc start termina
```
(termina) chronos@localhost ~ $

```bash
lxc list
```
列出已经安装的容器：

# crosh进入容器的命令行
```bash
/tmp $ lxc exec penguin -- bash
```
# crosh查看设备列表
```bash
sudo lspci
```
# 在编译服务器查看您的磁盘映像，${BOARD}修改为自己的电路板名称
进入编译好的磁盘镜像
```bash
(inside) ./mount_gpt_image.sh --board=${BOARD} --safe --most_recent
```
退出编译好的磁盘镜像（重要）
```bash
(inside) ./mount_gpt_image.sh --board=${BOARD} -u
```
可以单独挂载磁盘镜像编译或者分区解压缩为单独的文件并直接挂载它们
(inside)
```bash
cd ~/chromiumos/src/build/images/${BOARD}/latest
```
```bash
./unpack_partitions.sh chromiumos_image.bin
```
```bash
mkdir -p rootfs
```
```bash
sudo mount -o loop,ro part_3 rootfs
```
这会将 rootfs 从映像环回挂载到 ~/chromiumos/src/build/images/${BOARD}/latest/rootfs 中的chroot位置。
如果您使用构建，"--no-enable-rootfs-verification" 则可以省略 "ro" 选项以将其安装为读写。
如果您构建了 x86 ChromiumOS 映像，您甚至可以尝试 chroot 到该映像中：
```bash
(inside) sudo chroot ~/chromiumos/src/build/images/${BOARD}/latest/rootfs
```
这有点像破解（ChromiumOS rootfs 并不是真正修改服务器主机的 chroot）。完成后不要忘记 exit 这个 chroot。卸载根文件系统：
```bash
(inside) sudo umount ~/chromiumos/src/build/images/${BOARD}/latest/rootfs
```
# 向现有软件包添加更新补丁
如何修补 Ebuild ：https://chromium.googlesource.com/chromiumos/docs/+/main/portage/how_to_patch_an_ebuild.md
它来自 portage 位置在 src/third_party/chromiumos-overlay 需要从当前 ebuild 使用的包的确切版本创建一个补丁文件，如果其他补丁已经在 ebuild 中，在文件最后添加新的补丁，并从已经应用了现有补丁的源构建补丁（要么手动完成，要么设置 FEATURES=noclean 并构建你的补丁临时源）。请注意，补丁顺序很重要，因为 ebuild 期望每个补丁行号在应用前一个补丁后都是准确的。
将您的补丁放在包含 ebuild 文件（例如 third_party/chromiumos-overlay/dev-libs/mypackage/files/mypackage-1.0.0-my-little-patch.patch ）的目录的“files”子目录中。
然后，在 prepare()ebuild 部分（如果不存在则创建一个），添加一个 epatch 行：
```bash
epatch "${FILESDIR}"/${P}-my-little-patch.patch
```
